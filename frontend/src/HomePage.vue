<script>
import Navbar from "./components/layout/navbar.vue";
import Footer from "./components/layout/footer.vue";
import Sidebar from "./components/layout/sidebar.vue";
import { reactive } from "vue";
export default {
  components: {
    Footer,
    Navbar,
    Sidebar,
  },
  setup() {
    const data = reactive({
      activeMenuResponsive: false,
      activeIndex: sessionStorage.getItem("activeMenu") || 1,
    });

    // sessionStorage.setItem("role", response.data.document.Role.name);
    //       // sessionStorage.setItem("role", response.data.document.Role.name);
    //       sessionStorage.setItem(
    //         "permissionList",
    //         response.data.document.Role.Permissions
    //       );

    const role = sessionStorage.getItem('role')
    const permissionList = sessionStorage.getItem('permissionList')
    console.log('role:', role);
    console.log('permissionList:', permissionList);

    const updateMenuResponsive = () => {
      console.log("Received event from child component:");
    };
    return {
      data,
      updateMenuResponsive,
    };
  },
};
</script>

<template>
  <div>
    <nav class="navbar">
    <!-- Navbar content goes here -->
    <Navbar />
  </nav>
  <div class="sidebar">
    <!-- Sidebar content goes here -->
    <Sidebar :activeIndex="data.activeIndex" />
  </div>
  <div class="content">
    <!-- Content goes here -->
    <router-view></router-view>
  </div>
  <div class="footer">
    <!-- Footer goes here -->
    <Footer />
  </div>
  </div>

</template>

<style scoped></style>
